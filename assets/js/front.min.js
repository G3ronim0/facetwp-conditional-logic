!function(e){var t=function(e){if(!e.compare||!e.field)return!1;var t,a=!1;if("_template_"===e.field.substr(0,10))t=FWP.template,e.value=[e.field.substr(10)];else if("_basic_"===e.field.substr(0,7))switch(e.field.substr(7)){case"result-count":t=[FWP.settings.pager.total_rows];break;case"uri":t=[window.location.href];break;case"facets-empty":return!FWP.build_query_string().length;case"facets-not-empty":return!!FWP.build_query_string().length}else if("_facet_"===e.field.substr(0,7)){if(!FWP.facets[e.field.substr(7)])return!1;t=FWP.facets[e.field.substr(7)]}switch(e.compare){case"is":t.length&&t.indexOf(e.value.toString())>=0&&(a=!0);break;case"isnot":t.length&&t.indexOf(e.value)<0&&(a=!0);break;case"greater":t.length&&(a=parseFloat(t.reduce(function(e,t){return e+t}))>parseFloat(e.value));break;case"smaller":t.length&&(a=parseFloat(t.reduce(function(e,t){return e+t}))<parseFloat(e.value));break;case"startswith":for(var s=0;s<t.length;s++)t[s].toLowerCase().substr(0,e.value.toLowerCase().length)===e.value.toLowerCase()&&(a=!0);break;case"endswith":for(var s=0;s<t.length;s++)t[s].toLowerCase().substr(t[s].toLowerCase().length-e.value.toLowerCase().length)===e.value.toLowerCase()&&(a=!0);break;case"contains":for(var s=0;s<t.length;s++)t[s].toLowerCase().indexOf(e.value)>=0&&(a=!0)}return a},a=function(e){return"show"===e?"hide":"hide"===e?"show":void 0},s=function(t,a,s){var r;if("all_facets"===t.thing)r=e(".facetwp-facet");else if("template"===t.thing)r=e(".facetwp-template");else if("_custom"===t.thing){for(var i=t.selector.lines.split("\n"),l=[],o=0;o<i.length;o++){var n=i[o].replace(/^\s+|\s+$/gm,"");n.length&&l.push(n)}r=e(l.join(","))}else r=e(".facetwp-facet-"+t.thing);if(r.length){switch(a){case"hide":switch(s){case"fade":r.stop().fadeOut();break;case"slide":r.stop().slideUp();break;default:r.stop().hide()}break;case"show":switch(s){case"fade":r.stop().fadeIn();break;case"slide":r.stop().slideDown();break;default:r.stop().show()}}r.addClass("fwpcl-applied-logic")}};e(document).on("facetwp-loaded facetwp-refresh",function(r){e(".fwpcl-applied-logic").removeClass("fwpcl-applied-logic");for(var i in FWPCL.ruleset)if(FWPCL.ruleset[i].condition&&FWPCL.ruleset[i].action&&!FWPCL.ruleset[i].disabled&&(r.type===FWPCL.ruleset[i].event||"_all_"===FWPCL.ruleset[i].event)){var l=[];for(var o in FWPCL.ruleset[i].condition){var n=t(FWPCL.ruleset[i].condition[o]);if(FWPCL.ruleset[i].condition[o].or)for(var c in FWPCL.ruleset[i].condition[o].or){var u=t(FWPCL.ruleset[i].condition[o].or[c]);if(!0===u){n=!0;break}}l.push(n)}for(var f in FWPCL.ruleset[i].action){var d=FWPCL.ruleset[i].action[f]["do"],p=FWPCL.ruleset[i].animate?FWPCL.ruleset[i].animate:"appear";l.indexOf(!1)>-1&&(d=a(d)),s(FWPCL.ruleset[i].action[f],d,p)}}})}(jQuery);