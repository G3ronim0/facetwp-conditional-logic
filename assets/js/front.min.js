!function(e){var t=function(e){if(!e.compare||!e.field)return!1;var t,r=!1;if("_template_"===e.field.substr(0,10))t=FWP.template,e.value=[e.field.substr(10)];else if("_basic_"===e.field.substr(0,7))switch(e.field.substr(7)){case"result-count":t=[FWP.settings.pager.total_rows];break;case"uri":t=[window.location.href];break;case"facets-empty":return!FWP.build_query_string().length;case"facets-not-empty":return!!FWP.build_query_string().length}else if("_facet_"===e.field.substr(0,7)){if(!FWP.facets[e.field])return!1;t=FWP.facets[e.field]}switch(e.compare){case"is":t.length&&t.indexOf(e.value.toString())>=0&&(r=!0);break;case"isnot":t.length&&t.indexOf(e.value)<0&&(r=!0);break;case"greater":t.length&&(r=parseFloat(t.reduce(function(e,t){return e+t}))>parseFloat(e.value));break;case"smaller":t.length&&(r=parseFloat(t.reduce(function(e,t){return e+t}))<parseFloat(e.value));break;case"startswith":for(var a=0;a<t.length;a++)t[a].toLowerCase().substr(0,e.value.toLowerCase().length)===e.value.toLowerCase()&&(r=!0);break;case"endswith":for(var a=0;a<t.length;a++)t[a].toLowerCase().substr(t[a].toLowerCase().length-e.value.toLowerCase().length)===e.value.toLowerCase()&&(r=!0);break;case"contains":for(var a=0;a<t.length;a++)t[a].toLowerCase().indexOf(e.value)>=0&&(r=!0)}return r},r=function(e){return"show"===e?"hide":"hide"===e?"show":void 0},a=function(t,r){var a;if(a=e("all_facets"===t.thing?".facetwp-facet":"template"===t.thing?".facetwp-template":"_custom"===t.thing?t.selector:".facetwp-facet-"+t.thing),a.length){switch(r){case"hide":a.hide();break;case"show":a.show()}a.addClass("fwpcl-applied-logic")}};e(document).on("facetwp-loaded facetwp-refresh",function(){e(".fwpcl-applied-logic").removeClass("fwpcl-applied-logic").show();for(var s in FWPCL.ruleset)if(FWPCL.ruleset[s].condition&&FWPCL.ruleset[s].action){var i=[];for(var o in FWPCL.ruleset[s].condition){var n=t(FWPCL.ruleset[s].condition[o]);if(FWPCL.ruleset[s].condition[o].or)for(var l in FWPCL.ruleset[s].condition[o].or){var c=t(FWPCL.ruleset[s].condition[o].or[l]);if(!0===c){n=!0;break}}i.push(n)}for(var u in FWPCL.ruleset[s].action){var f=FWPCL.ruleset[s].action[u]["do"];i.indexOf(!1)>-1&&(f=r(f)),a(FWPCL.ruleset[s].action[u],f)}}})}(jQuery);