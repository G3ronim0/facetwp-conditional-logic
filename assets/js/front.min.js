!function(e){var t=function(e){if(!e.compare||!e.field)return!1;var t,a=!1;if("_template_"===e.field.substr(0,10))t=FWP.template,e.value=[e.field.substr(10)];else if("_basic_"===e.field.substr(0,7))switch(e.field.substr(7)){case"result-count":t=[FWP.settings.pager.total_rows];break;case"uri":t=[window.location.href];break;case"facets-empty":return!FWP.build_query_string().length;case"facets-not-empty":return!!FWP.build_query_string().length}else if("_facet_"===e.field.substr(0,7)){if(!FWP.facets[e.field.substr(7)])return!1;t=FWP.facets[e.field.substr(7)]}switch(e.compare){case"is":t.length&&t.indexOf(e.value.toString())>=0&&(a=!0);break;case"isnot":t.length&&t.indexOf(e.value)<0&&(a=!0);break;case"greater":t.length&&(a=parseFloat(t.reduce(function(e,t){return e+t}))>parseFloat(e.value));break;case"smaller":t.length&&(a=parseFloat(t.reduce(function(e,t){return e+t}))<parseFloat(e.value));break;case"startswith":for(var r=0;r<t.length;r++)t[r].toLowerCase().substr(0,e.value.toLowerCase().length)===e.value.toLowerCase()&&(a=!0);break;case"endswith":for(var r=0;r<t.length;r++)t[r].toLowerCase().substr(t[r].toLowerCase().length-e.value.toLowerCase().length)===e.value.toLowerCase()&&(a=!0);break;case"contains":for(var r=0;r<t.length;r++)t[r].toLowerCase().indexOf(e.value)>=0&&(a=!0)}return a},a=function(e){return"show"===e?"hide":"hide"===e?"show":void 0},r=function(t,a,r){var s;if("all_facets"===t.thing)s=e(".facetwp-facet");else if("template"===t.thing)s=e(".facetwp-template");else if("_custom"===t.thing){for(var l=t.selector.lines.split("\n"),i=[],o=0;o<l.length;o++){var n=l[o].replace(/^\s+|\s+$/gm,"");n.length&&i.push(n)}s=e(i.join(","))}else s=e(".facetwp-facet-"+t.thing);if(s.length){switch(a){case"hide":switch(r){case"fade":s.stop().fadeOut();break;case"slide":s.stop().slideUp();break;default:s.stop().hide()}break;case"show":switch(r){case"fade":s.stop().fadeIn();break;case"slide":s.stop().slideDown();break;default:s.stop().show()}}s.addClass("fwpcl-applied-logic")}};e(document).on("page-loaded facetwp-loaded facetwp-refresh",function(s){e(".fwpcl-applied-logic").removeClass("fwpcl-applied-logic");for(var l in FWPCL.ruleset)if(FWPCL.ruleset[l].action&&!FWPCL.ruleset[l].disabled&&(s.type===FWPCL.ruleset[l].event||"_all_"===FWPCL.ruleset[l].event)){var i=[];for(var o in FWPCL.ruleset[l].condition){var n=t(FWPCL.ruleset[l].condition[o]);if(FWPCL.ruleset[l].condition[o].or)for(var c in FWPCL.ruleset[l].condition[o].or){var u=t(FWPCL.ruleset[l].condition[o].or[c]);if(!0===u){n=!0;break}}i.push(n)}for(var f in FWPCL.ruleset[l].action){var d=FWPCL.ruleset[l].action[f]["do"],p=FWPCL.ruleset[l].animate?FWPCL.ruleset[l].animate:"appear";i.indexOf(!1)>-1&&(d=a(d)),r(FWPCL.ruleset[l].action[f],d,p)}}}),e(document).trigger("page-loaded")}(jQuery);