!function(e){var t=function(e){if(!e.compare||!e.field)return!1;var t,a=!1;if("_template_"===e.field.substr(0,10))t=FWP.template,e.value=[e.field.substr(10)];else if("_basic_"===e.field.substr(0,7))switch(e.field.substr(7)){case"result-count":t=[FWP.settings.pager.total_rows];break;case"uri":t=[window.location.href];break;case"facets-empty":return!FWP.build_query_string().length;case"facets-not-empty":return!!FWP.build_query_string().length}else if("_facet_"===e.field.substr(0,7)){if(!FWP.facets[e.field.substr(7)])return!1;t=FWP.facets[e.field.substr(7)]}switch(e.compare){case"is":t.length&&t.indexOf(e.value.toString())>=0&&(a=!0);break;case"isnot":t.length&&t.indexOf(e.value)<0&&(a=!0);break;case"greater":t.length&&(a=parseFloat(t.reduce(function(e,t){return e+t}))>parseFloat(e.value));break;case"smaller":t.length&&(a=parseFloat(t.reduce(function(e,t){return e+t}))<parseFloat(e.value));break;case"startswith":for(var r=0;r<t.length;r++)t[r].toLowerCase().substr(0,e.value.toLowerCase().length)===e.value.toLowerCase()&&(a=!0);break;case"endswith":for(var r=0;r<t.length;r++)t[r].toLowerCase().substr(t[r].toLowerCase().length-e.value.toLowerCase().length)===e.value.toLowerCase()&&(a=!0);break;case"contains":for(var r=0;r<t.length;r++)t[r].toLowerCase().indexOf(e.value)>=0&&(a=!0)}return a},a=function(e){return"show"===e?"hide":"hide"===e?"show":void 0},r=function(t,a,r){var s;if(s=e("all_facets"===t.thing?".facetwp-facet":"template"===t.thing?".facetwp-template":"_custom"===t.thing?t.selector:".facetwp-facet-"+t.thing),s.length){switch(a){case"hide":switch(r){case"fade":s.stop().fadeOut();break;case"slide":s.stop().slideUp();break;default:s.stop().hide()}break;case"show":switch(r){case"fade":s.stop().fadeIn();break;case"slide":s.stop().slideDown();break;default:s.stop().show()}}s.addClass("fwpcl-applied-logic")}};e(document).on("facetwp-loaded facetwp-refresh",function(s){e(".fwpcl-applied-logic").removeClass("fwpcl-applied-logic");for(var i in FWPCL.ruleset)if(FWPCL.ruleset[i].condition&&FWPCL.ruleset[i].action&&!FWPCL.ruleset[i].disabled){var o=[];for(var l in FWPCL.ruleset[i].condition){var n=t(FWPCL.ruleset[i].condition[l]);if(FWPCL.ruleset[i].condition[l].or)for(var c in FWPCL.ruleset[i].condition[l].or){var u=t(FWPCL.ruleset[i].condition[l].or[c]);if(!0===u){n=!0;break}}o.push(n)}for(var f in FWPCL.ruleset[i].action){var d=FWPCL.ruleset[i].action[f]["do"],p=FWPCL.ruleset[i].animate?FWPCL.ruleset[i].animate:"appear";o.indexOf(!1)>-1&&(d=a(d)),r(FWPCL.ruleset[i].action[f],d,p)}}})}(jQuery);