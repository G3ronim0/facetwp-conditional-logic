!function(e){var t=function(e){if(!e.compare||!e.field)return!1;var t,a=!1;if("_template_"===e.field.substr(0,10))t=FWP.template,e.value=[e.field.substr(10)];else if("_basic_"===e.field.substr(0,7))switch(e.field.substr(7)){case"result-count":t=[FWP.settings.pager.total_rows];break;case"uri":t=[window.location.href];break;case"facets-empty":return!FWP.build_query_string().length;case"facets-not-empty":return!!FWP.build_query_string().length}else if("_facet_"===e.field.substr(0,7)){if(!FWP.facets[e.field])return!1;t=FWP.facets[e.field]}switch(e.compare){case"is":t.length&&t.indexOf(e.value.toString())>=0&&(a=!0);break;case"isnot":t.length&&t.indexOf(e.value)<0&&(a=!0);break;case"greater":t.length&&(a=parseFloat(t.reduce(function(e,t){return e+t}))>parseFloat(e.value));break;case"smaller":t.length&&(a=parseFloat(t.reduce(function(e,t){return e+t}))<parseFloat(e.value));break;case"startswith":for(var r=0;r<t.length;r++)t[r].toLowerCase().substr(0,e.value.toLowerCase().length)===e.value.toLowerCase()&&(a=!0);break;case"endswith":for(var r=0;r<t.length;r++)t[r].toLowerCase().substr(t[r].toLowerCase().length-e.value.toLowerCase().length)===e.value.toLowerCase()&&(a=!0);break;case"contains":for(var r=0;r<t.length;r++)t[r].toLowerCase().indexOf(e.value)>=0&&(a=!0)}return a},a=function(e){return"show"===e?"hide":"hide"===e?"show":void 0},r=function(t,a,r){var s;if(s=e("all_facets"===t.thing?".facetwp-facet":"template"===t.thing?".facetwp-template":"_custom"===t.thing?t.selector:".facetwp-facet-"+t.thing),s.length){switch(a){case"hide":switch(r){case"fade":s.fadeOut();break;case"slide":s.slideUp();break;default:s.hide()}break;case"show":switch(r){case"fade":s.fadeIn();break;case"slide":s.slideDown();break;default:s.show()}}s.addClass("fwpcl-applied-logic")}};e(document).on("facetwp-loaded facetwp-refresh",function(){e(".fwpcl-applied-logic").removeClass("fwpcl-applied-logic");for(var s in FWPCL.ruleset)if(FWPCL.ruleset[s].condition&&FWPCL.ruleset[s].action){var i=[];for(var l in FWPCL.ruleset[s].condition){var n=t(FWPCL.ruleset[s].condition[l]);if(FWPCL.ruleset[s].condition[l].or)for(var o in FWPCL.ruleset[s].condition[l].or){var c=t(FWPCL.ruleset[s].condition[l].or[o]);if(!0===c){n=!0;break}}i.push(n)}for(var u in FWPCL.ruleset[s].action){var f=FWPCL.ruleset[s].action[u]["do"],d=FWPCL.ruleset[s].animate?FWPCL.ruleset[s].animate:"appear";i.indexOf(!1)>-1&&(f=a(f)),r(FWPCL.ruleset[s].action[u],f,d)}}})}(jQuery);